{"version":3,"sources":["webpack:///./src/views/me/index.vue?c10a","webpack:///src/views/me/index.vue","webpack:///./src/views/me/index.vue?45e4","webpack:///./src/views/me/index.vue"],"names":["module","exports","Component","options","__i18n","push","_Ctor","me","data","fields","form","name","title","introduction","professional_fields","account_name","bank_name","bank_card_number","rules","required","message","this","$t","pattern","validate","min","max","avatarUploading","avatarUrl","submitting","loading","applying","computed","language","$store","getters","isReviewFailed","userInfo","review_status","reviewStatusStyle","reviewStatusMessage","watch","created","_this","dispatch","then","user","keys_default","forEach","key","avatar_url","catch","methods","onSubmit","_this2","$message","warning","$refs","valid","Object","api_user","_ref","commit","success","onApplyReview","_this3","_ref2","beforeFileUpload","file","isLessThan","size","error","onUpload","_this4","upload","_ref3","avatar_id","id","URL","createObjectURL","onSuccess","console","onError","views_me","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","value","expression","_v","ref","attrs","model","label-position","label","show-file-list","http-request","before-upload","accept","action","src","prop","placeholder","maxlength","callback","$$v","$set","_s","autosize","type","rows","resize","$isDesigner","_l","field","_e","email","disabled","phone","on","click","staticRenderFns","__vue_styles__","context","__webpack_require__","component_normalizer","customBlock","__esModule","default","__webpack_exports__"],"mappings":"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","file":"static/js/26.9180f1eb9600c9220fbf.js","sourcesContent":["module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"zh\":{\"tips\":\"如果您代表一家企业，您可以在姓名或职位处填写您的公司名，在简介处填写您的公司简介。\",\"reviewStatusMessages\":[\"您的个人信息正在审核中\",\"您的个人信息已通过审核\",\"您的个人信息未通过审核，您可以修改后重新申请审核\"]},\"en\":{\"reviewStatusMessages\":[\"Your personal information is under review\",\"Your personal information has passed the review\",\"Your personal information has not been reviewed. You can edit it and re-apply for review.\"],\"编辑个人资料\":\"Edit Personal Information\",\"头像\":\"Avatar\",\"姓名\":\"Name\",\"职位/公司\":\"Title/Company\",\"简介\":\"Introduction\",\"专业领域\":\"Professional Fields\",\"手机号\":\"Phone\",\"邮箱\":\"Email\",\"银行卡号\":\"Bank Card Number\",\"开户行\":\"Bank Name\",\"开户名\":\"Account Name\",\"请准确填写银行卡相关信息，以保证顺利接收设计费\":\"Please fill in the relevant information of the bank card accurately to ensure the smooth reception of design fees.\",\"还未绑定邮箱\":\"Have not bound email yet\",\"应用修改\":\"Update\",\"申请重新审核\":\"Re-apply for review\",\"中文名或英文名，2~50个字符\":\"2 to 50 characters\",\"最多50个字符\":\"50 characters at most\",\"最多200个字符\":\"200 characters at most\",\"请输入你的真实姓名\":\"Please enter your real name (between 2 to 50 characters)\",\"tips\":\"If you represent a company, you can enter your company name in Name or Title field, and enter your company introduction in Introduction field.\",\"建筑设计\":\"Architectural Design\",\"室内设计\":\"Interior Design\",\"景观设计\":\"Landscape Design\",\"城市设计\":\"Urban Design\",\"城市规划\":\"Urban Planning\",\"概念规划\":\"Conceptual Planning\",\"修改成功\":\"Successful Operation\",\"上传文件大小不能超过2MB！\":\"File max size is 2 MB\",\"正在上传附件，请稍后\":\"File uploading, please wait\",\"申请重新审核成功\":\"Successfully re-apply for review\"}}')\n  delete Component.options._Ctor\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@kazupon/vue-i18n-loader/lib!./node_modules/vue-loader/lib/selector.js?type=customBlocks&index=0!./src/views/me/index.vue\n// module id = ajmt\n// module chunks = 26","<i18n>\n{\n  \"zh\": {\n    \"tips\": \"如果您代表一家企业，您可以在姓名或职位处填写您的公司名，在简介处填写您的公司简介。\",\n    \"reviewStatusMessages\": [\n      \"您的个人信息正在审核中\",\n      \"您的个人信息已通过审核\",\n      \"您的个人信息未通过审核，您可以修改后重新申请审核\"\n    ]\n  },\n  \"en\": {\n    \"reviewStatusMessages\": [\n      \"Your personal information is under review\",\n      \"Your personal information has passed the review\",\n      \"Your personal information has not been reviewed. You can edit it and re-apply for review.\"\n    ],\n\n    \"编辑个人资料\": \"Edit Personal Information\",\n    \"头像\": \"Avatar\",\n    \"姓名\": \"Name\",\n    \"职位/公司\": \"Title/Company\",\n    \"简介\": \"Introduction\",\n    \"专业领域\": \"Professional Fields\",\n    \"手机号\": \"Phone\",\n    \"邮箱\": \"Email\",\n    \"银行卡号\": \"Bank Card Number\",\n    \"开户行\": \"Bank Name\",\n    \"开户名\": \"Account Name\",\n    \"请准确填写银行卡相关信息，以保证顺利接收设计费\": \"Please fill in the relevant information of the bank card accurately to ensure the smooth reception of design fees.\",\n    \"还未绑定邮箱\": \"Have not bound email yet\",\n    \"应用修改\": \"Update\",\n    \"申请重新审核\": \"Re-apply for review\",\n\n    \"中文名或英文名，2~50个字符\": \"2 to 50 characters\",\n    \"最多50个字符\": \"50 characters at most\",\n    \"最多200个字符\": \"200 characters at most\",\n    \"请输入你的真实姓名\": \"Please enter your real name (between 2 to 50 characters)\",\n\n    \"tips\": \"If you represent a company, you can enter your company name in Name or Title field, and enter your company introduction in Introduction field.\",\n\n    \"建筑设计\": \"Architectural Design\",\n    \"室内设计\": \"Interior Design\",\n    \"景观设计\": \"Landscape Design\",\n    \"城市设计\": \"Urban Design\",\n    \"城市规划\": \"Urban Planning\",\n    \"概念规划\": \"Conceptual Planning\",\n\n    \"修改成功\": \"Successful Operation\",\n    \"上传文件大小不能超过2MB！\": \"File max size is 2 MB\",\n    \"正在上传附件，请稍后\": \"File uploading, please wait\",\n    \"申请重新审核成功\": \"Successfully re-apply for review\"\n  }\n}\n</i18n>\n\n<template>\n  <div class=\"container\">\n    <h2\n      v-t=\"'编辑个人资料'\"\n      class=\"mt0\" />\n    <!-- <my-alert\n      v-if=\"!loading\"\n      :title=\"reviewStatusMessage\"\n      :type=\"reviewStatusStyle\"\n      class=\"mb1\"\n      style=\"width: 600px\"/> -->\n    <el-form\n      v-loading=\"loading\"\n      ref=\"form\"\n      :model=\"form\"\n      :rules=\"rules\"\n      label-position=\"top\">\n      <el-form-item :label=\"$t('头像')\">\n        <el-upload\n          v-loading=\"avatarUploading\"\n          :show-file-list=\"false\"\n          :http-request=\"onUpload\"\n          :before-upload=\"beforeFileUpload\"\n          class=\"avatar-uploader\"\n          accept=\"image/jpeg, image/jpg, image/png, image/bmp\"\n          action=\"\">\n          <img\n            v-if=\"avatarUrl\"\n            :src=\"avatarUrl\"\n            class=\"avatar\">\n          <i\n            v-else\n            class=\"el-icon-plus avatar-uploader-icon\"/>\n        </el-upload>\n      </el-form-item>\n      <el-form-item\n        :label=\"$t('姓名')\"\n        prop=\"name\">\n        <el-input\n          v-model=\"form.name\"\n          :placeholder=\"$t('中文名或英文名，2~50个字符')\"\n          maxlength=\"50\"/>\n        <el-card class=\"tips-card\">{{ $t('tips') }}</el-card>\n      </el-form-item>\n      <el-form-item :label=\"$t('职位/公司')\" >\n        <el-input\n          v-model=\"form.title\"\n          :placeholder=\"$t('最多50个字符')\"\n          maxlength=\"50\"/>\n      </el-form-item>\n      <el-form-item :label=\"$t('简介')\" >\n        <el-input\n          v-model=\"form.introduction\"\n          :placeholder=\"$t('最多200个字符')\"\n          autosize\n          type=\"textarea\"\n          rows=\"1\"\n          resize=\"none\"\n          maxlength=\"200\"/>\n      </el-form-item>\n      <el-form-item\n        v-if=\"$isDesigner()\"\n        :label=\"$t('专业领域')\">\n        <el-checkbox-group v-model=\"form.professional_fields\">\n          <el-checkbox\n            v-for=\"field in fields\"\n            :key=\"field\"\n            :label=\"$t(`${field}`)\"/>\n        </el-checkbox-group>\n      </el-form-item>\n      <el-form-item :label=\"$t('邮箱')\" >\n        <el-input\n          :value=\"$store.getters.userInfo.email || $t('还未绑定邮箱')\"\n          disabled/>\n      </el-form-item>\n      <el-form-item\n        :label=\"$t('手机号')\"\n        prop=\"phone\">\n        <el-input\n          :value=\"$store.getters.userInfo.phone\"\n          disabled/>\n      </el-form-item>\n      <template v-if=\"$isDesigner()\">\n        <el-form-item :label=\"$t('银行卡号')\" >\n          <el-input\n            v-model=\"form.bank_card_number\"\n            maxlength=\"100\"/>\n          <el-card class=\"tips-card\">\n            <span v-t=\"'请准确填写银行卡相关信息，以保证顺利接收设计费'\" />\n          </el-card>\n        </el-form-item>\n        <el-form-item :label=\"$t('开户行')\" >\n          <el-input\n            v-model=\"form.bank_name\"\n            maxlength=\"100\"/>\n        </el-form-item>\n        <el-form-item :label=\"$t('开户名')\" >\n          <el-input\n            v-model=\"form.account_name\"\n            maxlength=\"100\"/>\n        </el-form-item>\n      </template>\n      <el-form-item>\n        <el-button\n          :loading=\"submitting\"\n          @click=\"onSubmit\">{{ $t('应用修改') }}</el-button>\n          <!-- <el-button\n          v-if=\"isReviewFailed\"\n          :loading=\"applying\"\n          @click=\"onApplyReview\">{{ $t('申请重新审核') }}</el-button> -->\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { namePattern } from '@/utils/validate'\nimport { updateCurrentUserInfo, applyReview } from '@/api/user'\nimport { upload } from '@/api/upload'\nexport default {\n  data () {\n    return {\n      fields: ['建筑设计', '室内设计', '景观设计', '城市设计', '城市规划', '概念规划'],\n      form: {\n        name: '',\n        title: '',\n        introduction: '',\n        // avatar_id: null, 这个属性一开始是没有的，只有上传了图片才有\n\n        // 这四个只有设计师有\n        professional_fields: [],\n        account_name: '',\n        bank_name: '',\n        bank_card_number: ''\n      },\n      rules: {\n        name: [\n          { required: true, message: this.$t('请输入你的真实姓名') },\n          { pattern: namePattern, min: 1, max: 50, message: this.$t('中文名或英文名，2~50个字符') }\n        ]\n      },\n      avatarUploading: false,\n      avatarUrl: '',\n      submitting: false, // 是否正在提交表单中\n      loading: true, // 是否正在加载用户个人信息\n      applying: false // 是否正在申请重新审核\n    }\n  },\n  computed: {\n    language () {\n      return this.$store.getters.language\n    },\n    isReviewFailed () {\n      const { review_status } = this.$store.getters.userInfo\n      return review_status === 2\n    },\n    reviewStatusStyle () {\n      const { review_status } = this.$store.getters.userInfo\n      const styles = ['warning', 'success', 'warning']\n      return styles[review_status]\n    },\n    reviewStatusMessage () {\n      const { review_status } = this.$store.getters.userInfo\n      return this.$t(`reviewStatusMessages[${review_status}]`)\n    }\n  },\n  watch: {\n    language () {\n      this.form.professional_fields = []\n    }\n  },\n  created () {\n    this.$store.dispatch('GET_USER_INFO').then(() => {\n      this.loading = false\n      const user = this.$store.getters.userInfo\n      Object.keys(this.form).forEach(key => {\n        this.form[key] = user[key]\n      })\n      this.avatarUrl = user.avatar_url\n    }).catch(() => {\n      this.loading = false\n    })\n  },\n  methods: {\n    onSubmit () {\n      if (this.avatarUploading) {\n        return this.$message.warning(this.$t('正在上传附件，请稍后'))\n      }\n      this.$refs.form.validate((valid) => {\n        if (valid) {\n          this.submitting = true\n          updateCurrentUserInfo(this.form).then(({ data }) => {\n            this.submitting = false\n            this.$store.commit('SET_USERINFO', data)\n            this.$message.success(this.$t('修改成功'))\n          }).catch(() => {\n            this.submitting = false\n          })\n        }\n      })\n    },\n    onApplyReview () {\n      this.applying = true\n      applyReview().then(({ data }) => {\n        this.applying = false\n        this.$store.commit('SET_USERINFO', data)\n        this.$message.success(this.$t('申请重新审核成功'))\n      }).catch(() => {\n        this.applying = false\n      })\n    },\n    beforeFileUpload (file) {\n      const isLessThan = file.size / 1024 / 1024 < 2\n      if (!isLessThan) {\n        this.$message.error(this.$t('上传文件大小不能超过2MB！'))\n      }\n      return isLessThan\n    },\n    onUpload (file) {\n      this.avatarUploading = true\n      upload('avatar', file.file)\n        .then(({ data }) => {\n          this.avatarUploading = false\n          this.form.avatar_id = data.id\n          this.avatarUrl = URL.createObjectURL(file.file)\n          file.onSuccess()\n        }).catch(error => {\n          console.error(error)\n          this.avatarUploading = false\n          file.onError()\n        })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  position: relative;\n  padding: 24px 32px;\n  .el-form {\n    width: 600px;\n  }\n}\n.tips-card {\n  position: absolute;\n  top: 0px;\n  left: 660px;\n  width: 260px;\n  font-size: 14px;\n  line-height: 1.8em;\n  color: rgba($color: #000000, $alpha: 0.65);\n}\n.avatar-uploader {\n  width: 102px;\n  /deep/ .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n    &:hover {\n      border-color: #0077b5;\n    }\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 100px;\n    height: 100px;\n    line-height: 100px;\n    text-align: center;\n  }\n  .avatar {\n    width: 100px;\n    height: 100px;\n    display: block;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/me/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h2',{directives:[{name:\"t\",rawName:\"v-t\",value:('编辑个人资料'),expression:\"'编辑个人资料'\"}],staticClass:\"mt0\"}),_vm._v(\" \"),_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('头像')}},[_c('el-upload',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.avatarUploading),expression:\"avatarUploading\"}],staticClass:\"avatar-uploader\",attrs:{\"show-file-list\":false,\"http-request\":_vm.onUpload,\"before-upload\":_vm.beforeFileUpload,\"accept\":\"image/jpeg, image/jpg, image/png, image/bmp\",\"action\":\"\"}},[(_vm.avatarUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.avatarUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('姓名'),\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('中文名或英文名，2~50个字符'),\"maxlength\":\"50\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_vm._v(\" \"),_c('el-card',{staticClass:\"tips-card\"},[_vm._v(_vm._s(_vm.$t('tips')))])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('职位/公司')}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('最多50个字符'),\"maxlength\":\"50\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('简介')}},[_c('el-input',{attrs:{\"placeholder\":_vm.$t('最多200个字符'),\"autosize\":\"\",\"type\":\"textarea\",\"rows\":\"1\",\"resize\":\"none\",\"maxlength\":\"200\"},model:{value:(_vm.form.introduction),callback:function ($$v) {_vm.$set(_vm.form, \"introduction\", $$v)},expression:\"form.introduction\"}})],1),_vm._v(\" \"),(_vm.$isDesigner())?_c('el-form-item',{attrs:{\"label\":_vm.$t('专业领域')}},[_c('el-checkbox-group',{model:{value:(_vm.form.professional_fields),callback:function ($$v) {_vm.$set(_vm.form, \"professional_fields\", $$v)},expression:\"form.professional_fields\"}},_vm._l((_vm.fields),function(field){return _c('el-checkbox',{key:field,attrs:{\"label\":_vm.$t((\"\" + field))}})}))],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('邮箱')}},[_c('el-input',{attrs:{\"value\":_vm.$store.getters.userInfo.email || _vm.$t('还未绑定邮箱'),\"disabled\":\"\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('手机号'),\"prop\":\"phone\"}},[_c('el-input',{attrs:{\"value\":_vm.$store.getters.userInfo.phone,\"disabled\":\"\"}})],1),_vm._v(\" \"),(_vm.$isDesigner())?[_c('el-form-item',{attrs:{\"label\":_vm.$t('银行卡号')}},[_c('el-input',{attrs:{\"maxlength\":\"100\"},model:{value:(_vm.form.bank_card_number),callback:function ($$v) {_vm.$set(_vm.form, \"bank_card_number\", $$v)},expression:\"form.bank_card_number\"}}),_vm._v(\" \"),_c('el-card',{staticClass:\"tips-card\"},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('请准确填写银行卡相关信息，以保证顺利接收设计费'),expression:\"'请准确填写银行卡相关信息，以保证顺利接收设计费'\"}]})])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('开户行')}},[_c('el-input',{attrs:{\"maxlength\":\"100\"},model:{value:(_vm.form.bank_name),callback:function ($$v) {_vm.$set(_vm.form, \"bank_name\", $$v)},expression:\"form.bank_name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('开户名')}},[_c('el-input',{attrs:{\"maxlength\":\"100\"},model:{value:(_vm.form.account_name),callback:function ($$v) {_vm.$set(_vm.form, \"account_name\", $$v)},expression:\"form.account_name\"}})],1)]:_vm._e(),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.submitting},on:{\"click\":_vm.onSubmit}},[_vm._v(_vm._s(_vm.$t('应用修改')))])],1)],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e79e9d52\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/me/index.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e79e9d52\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e79e9d52\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e79e9d52\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* customBlocks */\nvar customBlock = require(\"!!@kazupon/vue-i18n-loader!../../../node_modules/vue-loader/lib/selector?type=customBlocks&index=0!./index.vue\")\nif (customBlock && customBlock.__esModule) {\n  customBlock = customBlock.default\n}\nif (typeof customBlock === \"function\") {\n  customBlock(Component)\n}\n\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/me/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}