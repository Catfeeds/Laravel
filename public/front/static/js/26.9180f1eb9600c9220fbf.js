webpackJsonp([26],{LWDr:function(e,t){},ajmt:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"zh":{"tips":"如果您代表一家企业，您可以在姓名或职位处填写您的公司名，在简介处填写您的公司简介。","reviewStatusMessages":["您的个人信息正在审核中","您的个人信息已通过审核","您的个人信息未通过审核，您可以修改后重新申请审核"]},"en":{"reviewStatusMessages":["Your personal information is under review","Your personal information has passed the review","Your personal information has not been reviewed. You can edit it and re-apply for review."],"编辑个人资料":"Edit Personal Information","头像":"Avatar","姓名":"Name","职位/公司":"Title/Company","简介":"Introduction","专业领域":"Professional Fields","手机号":"Phone","邮箱":"Email","银行卡号":"Bank Card Number","开户行":"Bank Name","开户名":"Account Name","请准确填写银行卡相关信息，以保证顺利接收设计费":"Please fill in the relevant information of the bank card accurately to ensure the smooth reception of design fees.","还未绑定邮箱":"Have not bound email yet","应用修改":"Update","申请重新审核":"Re-apply for review","中文名或英文名，2~50个字符":"2 to 50 characters","最多50个字符":"50 characters at most","最多200个字符":"200 characters at most","请输入你的真实姓名":"Please enter your real name (between 2 to 50 characters)","tips":"If you represent a company, you can enter your company name in Name or Title field, and enter your company introduction in Introduction field.","建筑设计":"Architectural Design","室内设计":"Interior Design","景观设计":"Landscape Design","城市设计":"Urban Design","城市规划":"Urban Planning","概念规划":"Conceptual Planning","修改成功":"Successful Operation","上传文件大小不能超过2MB！":"File max size is 2 MB","正在上传附件，请稍后":"File uploading, please wait","申请重新审核成功":"Successfully re-apply for review"}}'),delete e.options._Ctor}},gjj7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("XyMi"),r=a("fZjL"),i=a.n(r),o=a("E4LH"),s=a("vMJZ"),l=a("uzBN"),c={data:function(){return{fields:["建筑设计","室内设计","景观设计","城市设计","城市规划","概念规划"],form:{name:"",title:"",introduction:"",professional_fields:[],account_name:"",bank_name:"",bank_card_number:""},rules:{name:[{required:!0,message:this.$t("请输入你的真实姓名")},{pattern:o.a,min:1,max:50,message:this.$t("中文名或英文名，2~50个字符")}]},avatarUploading:!1,avatarUrl:"",submitting:!1,loading:!0,applying:!1}},computed:{language:function(){return this.$store.getters.language},isReviewFailed:function(){return 2===this.$store.getters.userInfo.review_status},reviewStatusStyle:function(){return["warning","success","warning"][this.$store.getters.userInfo.review_status]},reviewStatusMessage:function(){var e=this.$store.getters.userInfo.review_status;return this.$t("reviewStatusMessages["+e+"]")}},watch:{language:function(){this.form.professional_fields=[]}},created:function(){var e=this;this.$store.dispatch("GET_USER_INFO").then(function(){e.loading=!1;var t=e.$store.getters.userInfo;i()(e.form).forEach(function(a){e.form[a]=t[a]}),e.avatarUrl=t.avatar_url}).catch(function(){e.loading=!1})},methods:{onSubmit:function(){var e=this;if(this.avatarUploading)return this.$message.warning(this.$t("正在上传附件，请稍后"));this.$refs.form.validate(function(t){t&&(e.submitting=!0,Object(s.q)(e.form).then(function(t){var a=t.data;e.submitting=!1,e.$store.commit("SET_USERINFO",a),e.$message.success(e.$t("修改成功"))}).catch(function(){e.submitting=!1}))})},onApplyReview:function(){var e=this;this.applying=!0,Object(s.a)().then(function(t){var a=t.data;e.applying=!1,e.$store.commit("SET_USERINFO",a),e.$message.success(e.$t("申请重新审核成功"))}).catch(function(){e.applying=!1})},beforeFileUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error(this.$t("上传文件大小不能超过2MB！")),t},onUpload:function(e){var t=this;this.avatarUploading=!0,Object(l.a)("avatar",e.file).then(function(a){var n=a.data;t.avatarUploading=!1,t.form.avatar_id=n.id,t.avatarUrl=URL.createObjectURL(e.file),e.onSuccess()}).catch(function(a){console.error(a),t.avatarUploading=!1,e.onError()})}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h2",{directives:[{name:"t",rawName:"v-t",value:"编辑个人资料",expression:"'编辑个人资料'"}],staticClass:"mt0"}),e._v(" "),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{model:e.form,rules:e.rules,"label-position":"top"}},[a("el-form-item",{attrs:{label:e.$t("头像")}},[a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.avatarUploading,expression:"avatarUploading"}],staticClass:"avatar-uploader",attrs:{"show-file-list":!1,"http-request":e.onUpload,"before-upload":e.beforeFileUpload,accept:"image/jpeg, image/jpg, image/png, image/bmp",action:""}},[e.avatarUrl?a("img",{staticClass:"avatar",attrs:{src:e.avatarUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("姓名"),prop:"name"}},[a("el-input",{attrs:{placeholder:e.$t("中文名或英文名，2~50个字符"),maxlength:"50"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),a("el-card",{staticClass:"tips-card"},[e._v(e._s(e.$t("tips")))])],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("职位/公司")}},[a("el-input",{attrs:{placeholder:e.$t("最多50个字符"),maxlength:"50"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("简介")}},[a("el-input",{attrs:{placeholder:e.$t("最多200个字符"),autosize:"",type:"textarea",rows:"1",resize:"none",maxlength:"200"},model:{value:e.form.introduction,callback:function(t){e.$set(e.form,"introduction",t)},expression:"form.introduction"}})],1),e._v(" "),e.$isDesigner()?a("el-form-item",{attrs:{label:e.$t("专业领域")}},[a("el-checkbox-group",{model:{value:e.form.professional_fields,callback:function(t){e.$set(e.form,"professional_fields",t)},expression:"form.professional_fields"}},e._l(e.fields,function(t){return a("el-checkbox",{key:t,attrs:{label:e.$t(""+t)}})}))],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:e.$t("邮箱")}},[a("el-input",{attrs:{value:e.$store.getters.userInfo.email||e.$t("还未绑定邮箱"),disabled:""}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("手机号"),prop:"phone"}},[a("el-input",{attrs:{value:e.$store.getters.userInfo.phone,disabled:""}})],1),e._v(" "),e.$isDesigner()?[a("el-form-item",{attrs:{label:e.$t("银行卡号")}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.form.bank_card_number,callback:function(t){e.$set(e.form,"bank_card_number",t)},expression:"form.bank_card_number"}}),e._v(" "),a("el-card",{staticClass:"tips-card"},[a("span",{directives:[{name:"t",rawName:"v-t",value:"请准确填写银行卡相关信息，以保证顺利接收设计费",expression:"'请准确填写银行卡相关信息，以保证顺利接收设计费'"}]})])],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("开户行")}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.form.bank_name,callback:function(t){e.$set(e.form,"bank_name",t)},expression:"form.bank_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("开户名")}},[a("el-input",{attrs:{maxlength:"100"},model:{value:e.form.account_name,callback:function(t){e.$set(e.form,"account_name",t)},expression:"form.account_name"}})],1)]:e._e(),e._v(" "),a("el-form-item",[a("el-button",{attrs:{loading:e.submitting},on:{click:e.onSubmit}},[e._v(e._s(e.$t("应用修改")))])],1)],2)],1)},staticRenderFns:[]};var m=function(e){a("LWDr")},f=Object(n.a)(c,u,!1,m,"data-v-e79e9d52",null),p=a("ajmt");p&&p.__esModule&&(p=p.default),"function"==typeof p&&p(f);t.default=f.exports}});
//# sourceMappingURL=26.9180f1eb9600c9220fbf.js.map